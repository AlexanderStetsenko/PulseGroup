# ?? ????????? Docker ? Visual Studio

## ?????? ?? ?????????? ??????????? ??????? ? Docker?

Visual Studio ??????? ??????????? ????? ??????? ??? ?????????? ? Docker.

---

## ? ??????? (??? ???????)

? ??????? ????????? ?????:

1. ? `docker-compose.dcproj` - ?????? Docker Compose
2. ? `docker-compose.override.yml` - ????????? ??? ??????????
3. ? `PulseGroup.sln` - ???? ???????
4. ? ???????? `PulseGroup.csproj` ? Docker ???????????

---

## ?? ??? ????????? ? Docker ?? Visual Studio

### ??? 1: ???????? ? ???????? ???????

1. ? Visual Studio: **File ? Close Solution**
2. **File ? Open ? Project/Solution**
3. ???????? ???? `PulseGroup.sln`

### ??? 2: ???????? Docker Compose

? ?????? ???????????? Visual Studio:

1. ??????? ?????????? ?????? ????? ? ??????? ??????? (??????? ??????? ?)
2. ???????? **"docker-compose"** ?????? "PulseGroup"

![Docker Compose Selection](https://i.imgur.com/example.png)

### ??? 3: ????????? ??????

??????? **F5** ??? ??????? ?????? ? **"docker-compose"**

Visual Studio:
- ??????? Docker ?????
- ???????? ?????????
- ??????? ???? ? Output ????

---

## ?? ?????????????? ??????

???? Visual Studio ?? ?????????? Docker Compose:

### ?????? 1: ?????? ??????? ?? ???????

1. ? Solution Explorer ???????? ?????? ??????? ?? ??????? **PulseGroup**
2. ???????? **Add ? Container Orchestrator Support**
3. ???????? **Docker Compose**
4. ???????? **Linux**

### ?????? 2: ????? ???? Tools

1. **Tools ? Options**
2. **Container Tools ? Docker Compose**
3. ?????????, ??? ????????: **"Enable Docker Compose"**

---

## ?? ???????? ????????

### ? Solution Explorer ?????? ????:

```
Solution 'PulseGroup'
??? docker-compose (docker-compose.dcproj)
?   ??? docker-compose.yml
?   ??? docker-compose.override.yml
?   ??? .dockerignore
??? PulseGroup (PulseGroup.csproj)
    ??? ... (???? ?????)
```

### ? ?????????? ?????? ??????? ?????? ????:

- **PulseGroup** - ??????? ??????
- **docker-compose** - ?????? ? Docker ??

---

## ?? ?????????? ???????

### ????????: Docker Compose ?? ?????????? ? ??????

**??????? 1: ????????????? Visual Studio**
```
1. ???????? Visual Studio
2. ???????? ?????
3. ???????? PulseGroup.sln
```

**??????? 2: ????????? Docker Desktop**
```
1. ?????????, ??? Docker Desktop ???????
2. ?????????, ??? WSL2 ??????? (??? Windows)
```

**??????? 3: ?????????? Docker workload**
```
1. ???????? Visual Studio Installer
2. Modify ? Workloads
3. ????????: "Container development tools"
4. Install
```

### ????????: ?????? ??? ???????

**????????? Docker:**
```powershell
# ?????????, ??? Docker ????????
docker --version
docker ps

# ?????????, ??? Docker Desktop ???????
```

**????????? ?????:**
```
????????? Visual Studio ?? ????? ??????????????
```

### ????????: ????????? (??? ?????? ??????? ????)

**??? ??????????** ? Dockerfile:
```docker
ENV LC_ALL=ru_RU.UTF-8
ENV LANG=ru_RU.UTF-8
```

?????? ???????????? ?????.

---

## ?? ??????? ? Docker

### Breakpoints ????????!

Visual Studio ???????????? ??????? ? Docker:

1. ????????? breakpoint ? ????
2. ????????? ????? **docker-compose** (F5)
3. Visual Studio ????????????? ??????????? ? ??????????

### ???????? ?????

**Output ????:**
- View ? Output
- Show output from: Container Tools

**Docker logs:**
```powershell
docker-compose logs -f
```

---

## ?? Debug vs Release

### Debug (F5):
- ?????????? `docker-compose.override.yml`
- ???????? ???????
- Hot reload
- Source mapping

### Release (Ctrl+F5):
- ?????? `docker-compose.yml`
- ???????????????? ??????
- ??? ? production

---

## ?? ?????? ??? Visual Studio

???? ?????? ????????? ????? ????????? ??????:

```powershell
# ?? ????? ???????
docker-compose up -d

# ??? ??????????? ??????
.\deploy.bat
```

---

## ? ??????!

?????? ? ??? ?????? ????????? ??????????? ??????? ? Docker ?? Visual Studio.

???? ???????? ????????:
1. ?????????, ??? ??? ????? ???????
2. ????????????? Visual Studio
3. ?????????, ??? Docker Desktop ???????
4. ????????? Visual Studio Installer ? Container Tools
