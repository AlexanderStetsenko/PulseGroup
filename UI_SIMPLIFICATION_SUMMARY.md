# ?? UI ????????? - ?????? ?????????

## ? ??????????? ?????????

### 1. **?????? ?????? ??? ? ??????**

**??:**
```
??? 1/2: ???????? ??????:
???????????????????
?  ???? ?????      ?
???????????????????
? ?? ???? ???     ? ? ??????
? ?? ???? ??????  ? ? ??????
???????????????????
```

**?????:**
```
??? 1/2: ???????? ??????:
???????????????????
?  ???? ?????      ? ? ?????? ?????
???????????????????
```

**???????:** ??? ? ?????? ????????? ? ??????????, ??????? ?????????? ?????????? ?????.

---

### 2. **?????? ?????????????? ? ???/??????**

**??:**
```
?? ??????????? ????????? ??????????

??? 1/2: ???????? ??????, ?????? ????? ??????????:

?? ???????? ????????:
???????????? ??? ??? ? ?????? ????????? ? ??????????.
???????? ?????? ?????? ?????? ??? ?????.
```

**?????:**
```
?? ??????????? ????????? ??????????

??? 1/2: ???????? ??????, ?????? ????? ??????????:
```

**???????:** ???? ???????????? ?????? ?????, ?????????????? ?? ?????.

---

### 3. **?????????? ?????? ????? ???????**

**?? (? ??????? ??????????):**
```
????????????????????
?????: 34 396$
????????????????????

?? ????? ????? ???????? ??? 2000$ ? ????? ??? 3000$

?? ??? ?????? ??????? ??????????? /calculate

?????????????????????????????????????????
? ?? ????? ??????    ?  ?? ??????? ???? ?  ? ?????????? ??????
?????????????????????????????????????????
```

**?????:**
```
????????????????????
?????: 34 396$
????????????????????

?? ????? ????? ???????? ??? 2000$ ? ????? ??? 3000$

?? ??? ?????? ??????? ??????????? /calculate

?????????????????????????????????????????
? ?? ????? ??????    ?  ?? ??????? ???? ?  ? ?????? ??????
?????????????????????????????????????????
```

---

### 4. **??????? ????? ??????????**

?????? ?????? ?????????, ????????? ?????? ??????:
- ? ??????????? ????????
- ? ???????? ?????
- ? ?????????? ? ?????????????? ????????
- ? ????????? ??? ?????? ???????

---

## ?? ?????????? ?????

### 1. `PulseGroup\Handlers\CalculationHandler.cs`

**StartCalculationAsync:**
```csharp
// ?????? ?????? ??? ? ??????
var keyboard = new InlineKeyboardMarkup(new[]
{
    new[]
    {
        InlineKeyboardButton.WithCallbackData(Buttons.ButtonChina, "country_china"),
    }
    // USA and Europe buttons hidden
});

// ?????? ?????????????? ? ???/??????
var message = $"{Messages.CalcTitle}\n\n" +
             $"{Messages.CalcStep1}";
```

**CalculateFinalPriceAsync:**
```csharp
// ?????? 2 ???????? ??????
var keyboard = new InlineKeyboardMarkup(new[]
{
    new[]
    {
        InlineKeyboardButton.WithCallbackData("?? ????? ??????", "new_calculation"),
        InlineKeyboardButton.WithCallbackData(Buttons.ButtonMainMenu, "main_menu")
    }
});
```

### 2. `PulseGroup\Services\CalculationService.cs`

**GetCalculationResultText:**
```csharp
// ??????? ?????, ?????? ?????? ?????????
var result = $"{Messages.ResultTitle}\n\n" +
       $"?????? ???? {breakdown.CarPrice:N0}$\n" +
       $"???? ?? ????????\n" +
       $"-?????????? ??????? {breakdown.ImportPreparation:N0}$\n" +
       // ... ??????????? ...
       $"????????????????????\n" +
       $"?????: {breakdown.Total:N0}$\n" +
       $"????????????????????\n\n" +
       $"?? ????? ????? ???????? ??? 2000$ ? ????? ??? 3000$\n\n" +
       $"?? ??? ?????? ??????? ??????????? /calculate";
```

---

## ?? ?????????

### ??:
- ? 3 ?????? ?????? ?????? (2 ??????????)
- ? ??????? ?????????????? ? ??????????
- ? ?????????? ????????????? ?????? ????? ???????
- ? ?????? ????? ? ???????????

### ?????:
- ? 1 ?????? ?????? ?????? (?????)
- ? ?????? ????????? ??? ??????????????
- ? 2 ???????? ?????? ????? ???????
- ? ??????? ????????????? ?????

---

## ?? ???????????????? ????

### ????? ????:

```
1. ????????????: /calculate
   ?
2. ???: "???????? ??????:"
   [???? ?????]  ? ?????? ???? ??????
   ?
3. ???????????? ???????? ?????
   ?
4. ???: "??????? ????????? ??????????"
   ?
5. ????????????: 20000
   ?
6. ???: ?????????? ?????? ? ????????:
   [?? ????? ??????] [?? ??????? ????]
```

---

## ? ????????????

1. **?????? ??????** - ???????????? ????? ????? ?????? ?????????? ?????
2. **???? ?????????** - ??? ?????? ??????????????
3. **???????? ??????** - ??? ??????????? ???????? (?? ?????)
4. **??????? ?????????????** - ?????? ???? ? ???????

---

## ?? ??? ?? ??????????

? ??? ??? ??? ? ?????? **???????????????**, ?? ??????
? ????? ????? ??????? ??????, ???????????????? ???
? ??? ?????? ???????? ???????? ??? ??????
? ?????-?????? ?? ?????????
? ?????????? ???????? ?????????

---

## ?? ??? ??????? ???/?????? (???? ?????)

? ????? `CalculationHandler.cs`, ????????????????:

```csharp
var keyboard = new InlineKeyboardMarkup(new[]
{
    new[]
    {
        InlineKeyboardButton.WithCallbackData(Buttons.ButtonChina, "country_china"),
    },
    new[]  // ? ???????????????? ??? ??????
    {
        InlineKeyboardButton.WithCallbackData(Buttons.ButtonUSA, "country_usa"),
        InlineKeyboardButton.WithCallbackData(Buttons.ButtonEurope, "country_europe")
    }
});
```

? ??????? ?????????????? ? ?????????.

---

## ?? ??????!

????????? ?????? ????, ????? ? ???????? ??? ?????????????.
