# ?? ??????????? ???????? ? ?????????????

## ?? ????????

?? ????????? ?????, ??? ?????? ??????????:
```
?????? ???? 20 000$
???? ?? ????????
-?????????? ??????? 0$      ? ?????? ???? 2000$
-???????? ???? + ???? 0$    ? ?????? ???? 3000$
-?????? 0$                  ? ?????? ???? 400$
-????????? ?? ????? 0$      ? ?????? ???? 700$
-??????? 6 200$ (31%)       ? ????????? ?????????
-?????? ?? ?????? 0$        ? ?????? ???? 1600$

?????: 26 200$              ? ?????? ???? ~34,716$
```

## ?? ??? ? ??????? ??? ???????????

### 1. ??????????? ???????? ???????
? `ConfigurationService.cs`:
```csharp
?? Config file content: {...}
?? Loaded values:
   ImportPreparation: 2000
   LandSeaDelivery: 3000
   Broker: 400
   TransportFromPort: 700
   CustomsPercent: 0.31
   ImportServices: 1600
```

### 2. ??????????? ???????
? `ChinaCalculator.cs`:
```csharp
?? DEBUG ChinaCalculator.GetBreakdown:
   carPrice: 20000
   config.ImportPreparation: 2000
   config.LandSeaDelivery: 3000
   ...
```

### 3. JSON Property Names
??????? ????? ????? ??????? ? `PricingConfig.cs`:
```csharp
[JsonPropertyName("ImportPreparation")]
public decimal ImportPreparation { get; set; }
```

## ?? ?????????? ?????? ??? 20,000$

```
?????? ????:           20,000$
?????????? ???????:     2,000$
???????? ???? + ????:   3,000$
??????:                   400$
????????? ?? ?????:       700$
???????: (20000+1600)×31% = 6,696$
?????? ?? ??????:       1,600$
?????????????????????????????
?????:                 34,396$
```

## ?? ??? ?????????

### ??? 1: ????????? ????
```bash
dotnet run
```

### ??? 2: ?????????? ???????
?????? ????????? ??? ??????:
```
?? PulseGroup Bot Starting...
?? Config file content: {"ImportPreparation":2000.0,...}
?? Loaded values:
   ImportPreparation: 2000
   LandSeaDelivery: 3000
   ...
```

**???? ???????? 0** - ?????? ?? ??????????!

### ??? 3: ???????? ??????
? Telegram:
1. `/calculate`
2. ???????? ?????
3. ???????: `20000`

? ??????? ?????? ?????????:
```
?? DEBUG ChinaCalculator.GetBreakdown:
   carPrice: 20000
   config.ImportPreparation: 2000
   config.LandSeaDelivery: 3000
   config.Broker: 400
   config.TransportFromPort: 700
   config.CustomsPercent: 0.31
   config.ImportServices: 1600
   calculated customs: 6696
   total: 34396
```

## ?? ????????? ??????? ????????

### ??????? 1: ?????? ???? ?? ??????
```
?? Configuration file not found. Creating default configuration...
```
**???????:** ???? ????????? ?????????????

### ??????? 2: ???????????? ?????? JSON
```json
// ? ???????????:
{
  "Docs": 2000.0,  // ?????? ????? ?????
  ...
}

// ? ?????????:
{
  "ImportPreparation": 2000.0,
  "LandSeaDelivery": 3000.0,
  "Broker": 400.0,
  "TransportFromPort": 700.0,
  "CustomsPercent": 0.31,
  "ImportServices": 1600.0
}
```

### ??????? 3: ?????? ?? ?????????? ? Calculator
????????? ? ?????:
```
?? DEBUG ChinaCalculator.GetBreakdown:
   config.ImportPreparation: 0    ? ????????!
```

### ??????? 4: ???? ? ???????????? ??????????
?????? ?????? ?:
- Docker: `/app/data/pricing_config.json`
- ????????: `{AppDomain.CurrentDomain.BaseDirectory}/pricing_config.json`

## ??? ??????????? ?????????

? ????????? `[JsonPropertyName]` ????????
? ????????? ????????? ??????????? ????????
? ????????? ??????????? ? Calculator
? ???????? ??????????? ???????? ????? ??? ???????

## ?? ????????? ????

1. **????????? ????** ? ?????? ???????????
2. **?????????? ???????** ??? ??????
3. **???????? ???????? ??????** 20000$
4. **???????? ????** ? ?????????? ??????????

## ?? ???? ???????? ????????

????????? ???:
1. ? ??? ??? ?????? ???? (?????? 50 ?????)
2. ? ??? ??? ??????? (?????? ? ?? DEBUG)
3. ? ?????????? ????? `pricing_config.json`

????? ? ????? ????? ??? ????????!

## ? ????????? ?????????

????? ???????????, ?????? ??? 20,000$ ?????? ????????:
```
?????? ???? 20 000$
???? ?? ????????
-?????????? ??????? 2 000$
-???????? ???? + ???? 3 000$
-?????? 400$
-????????? ?? ????? 700$
-??????? 6 696$ (31%)
-?????? ?? ?????? 1 600$

????????????????????
?????: 34 396$
????????????????????
```
